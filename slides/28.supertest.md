### Supertest for API (cont.)

```javascript
it('should have token', function (done) {
  supertest(app)
    .post('/auth/token')
    .set('User-Agent', 'My test browser')
    .set('Accept', 'application/json')
    .set('content-type', 'application/x-www-form-urlencoded')
    .send(user)
    .expect(function (res) {
      expect(res.body).to.have.ownProperty('token');
      expect(res.body.token).not.be.null;
    })
    .end(done);
});
```